version: '3'

includes:
  apt: apt.yaml

tasks:
  ensure:
    desc: Ensure Git is installed
    summary: |
      Checks for `git` on the `PATH` and installs it if it is not.
    status:
      - which git
    cmds:
      - task: install-{{OS}}

  install-linux:
    desc: Ensure Git is installed on Debian-based Linux using Apt
    hide: true
    cmds:
      - task: apt:install-packages
        vars:
          PACKAGES: git

  install-darwin:
    desc: Ensure Git is installed on MacOS using Homebrew
    hide: true
    cmds:
      - task: brew:add
        vars:
          PACKAGES: git
