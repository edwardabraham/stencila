---
source: rust/codec-md/src/decode.rs
assertion_line: 2414
expression: "decode_fragment(content, None)"
input_file: fixtures/fragments/md/for.md
---
[
  {
    "type": "Heading",
    "content": [
      "Simple"
    ],
    "depth": 1
  },
  {
    "type": "For",
    "code": "[1,2,3]",
    "content": [
      {
        "type": "Paragraph",
        "content": [
          "This paragraph will be repeated with a different value for ",
          {
            "type": "CodeExpression",
            "code": "item",
            "programmingLanguage": ""
          },
          "."
        ]
      }
    ],
    "programmingLanguage": "",
    "symbol": "item"
  },
  {
    "type": "Heading",
    "content": [
      "Nested"
    ],
    "depth": 1
  },
  {
    "type": "Paragraph",
    "content": [
      "For loops can be nested,"
    ]
  },
  {
    "type": "For",
    "code": "[['a', 'b'], ['c', 'd']]",
    "content": [
      {
        "type": "For",
        "code": "row",
        "content": [
          {
            "type": "Paragraph",
            "content": [
              "This paragraph will be repeated for each column and row: ",
              {
                "type": "CodeExpression",
                "code": "col",
                "programmingLanguage": ""
              }
            ]
          }
        ],
        "programmingLanguage": "",
        "symbol": "col"
      }
    ],
    "programmingLanguage": "",
    "symbol": "row"
  },
  {
    "type": "Heading",
    "content": [
      "Else"
    ],
    "depth": 1
  },
  {
    "type": "Paragraph",
    "content": [
      "For loops can have an ",
      {
        "type": "CodeFragment",
        "code": "else"
      },
      " clause which specifies the content to be rendered if there are not items,"
    ]
  },
  {
    "type": "For",
    "code": "[]",
    "content": [
      {
        "type": "Paragraph",
        "content": [
          "This content is never shown"
        ]
      }
    ],
    "programmingLanguage": "",
    "symbol": "row",
    "otherwise": [
      {
        "type": "Paragraph",
        "content": [
          "There are no items"
        ]
      }
    ]
  },
  {
    "type": "Heading",
    "content": [
      "Deviations"
    ],
    "depth": 1
  },
  {
    "type": "Paragraph",
    "content": [
      "Here is a test that missing content will still be parsed as a ",
      {
        "type": "CodeFragment",
        "code": "For"
      },
      ","
    ]
  },
  {
    "type": "For",
    "code": "[1,2,3]",
    "content": [],
    "programmingLanguage": "",
    "symbol": "item",
    "otherwise": []
  },
  {
    "type": "Paragraph",
    "content": [
      "However note that there must be empty lines between sections. e.g this should ",
      {
        "type": "Emphasis",
        "content": [
          "not"
        ]
      },
      " be parsed as a ",
      {
        "type": "CodeFragment",
        "code": "For"
      },
      ","
    ]
  },
  {
    "type": "Heading",
    "content": [
      "Regressions"
    ],
    "depth": 1
  },
  {
    "type": "Paragraph",
    "content": [
      "Some Markdown that did not parse correctly during prop tests"
    ]
  },
  {
    "type": "Heading",
    "content": [
      "Table in ",
      {
        "type": "CodeFragment",
        "code": "otherwise"
      }
    ],
    "depth": 2
  },
  {
    "type": "For",
    "code": "[]",
    "content": [
      {
        "type": "Paragraph",
        "content": [
          "Content paragraph"
        ]
      }
    ],
    "programmingLanguage": "py",
    "symbol": "item",
    "otherwise": [
      {
        "type": "Paragraph",
        "content": [
          "Otherwise paragraph"
        ]
      },
      {
        "type": "Table",
        "rows": [
          {
            "type": "TableRow",
            "cells": [
              {
                "type": "TableCell",
                "cellType": "Header",
                "content": [
                  "A"
                ]
              },
              {
                "type": "TableCell",
                "cellType": "Header",
                "content": [
                  "B"
                ]
              }
            ],
            "rowType": "Header"
          },
          {
            "type": "TableRow",
            "cells": [
              {
                "type": "TableCell",
                "content": [
                  "1"
                ]
              },
              {
                "type": "TableCell",
                "content": [
                  "2"
                ]
              }
            ]
          }
        ]
      }
    ]
  }
]
